$(document).ready(function(){function aX(a){$.ajax({url:"/check-notification",type:"post",data:{id:a.id},error:function(){},success:function(b){if(b.new_notification){console.log(b),$(document).prop("title",b.notification_count+" "+aL);var c=$("#buzzer")[0];c.play(),ac("load-notification-message")}}})}function bc(a){$(a).each(function(){var b=$(this).attr("id");0==$("#"+b+" .list-data").children().length&&$("#"+b).hide()})}function bh(a){if(void 0===a&&(a=0),a){var b="#myModal "}else{var b=""}$(b+".datepicker").each(function(){$(this).attr("readonly","readonly")}),$(b+".hidden_fields").each(function(){$(this).attr("readonly","readonly")})}function a3(c){for(var d="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",b="",f=c;f>0;--f){b+=d[Math.floor(Math.random()*d.length)]}return b}function aZ(a){$(a).each(function(){var d=a3(40);$(this).attr("id",d);var h="&module="+$(this).attr("data-module")+"&key="+d;$(this).attr("data-key",d);var b=d+"-list";$(this).find(".file-uploader-list").attr("id",b),$("#"+b).attr("data-source","/upload-list"),$("#"+b).attr("data-extra",h),$("#"+b).html("");var g=$(this).attr("data-module"),c=$(this).attr("data-module-id"),f=$(this).attr("data-key"),j=$(this).find(".file-uploader-button");$(j).uploadFile({url:"/upload",fileName:"file",returnType:"json",uploadStr:j.attr("data-upload-button"),maxFileSize:j.attr("data-max-size"),autoSubmit:!0,dragDrop:!1,multiple:!1,formData:{module:g,module_id:c,key:f},onSuccess:function(i,k){toastr.success(k.message,"",{positionClass:ab}),ac(k.key+"-list")},onError:function(k,l,i){toastr.error(i,"",{positionClass:ab})}})})}function a8(){$("#sidebar-menu > ul > li > a").click(function(){$("#sidebar-menu li").removeClass("selected"),$(this).closest("li").addClass("selected");var a=$(this).next();return a.is("ul")&&a.is(":visible")&&($(this).closest("li").removeClass("selected"),a.slideUp("fast")),a.is("ul")&&!a.is(":visible")&&($("#sidebar-menu ul ul:visible").slideUp("fast"),a.slideDown("fast")),0==$(this).closest("li").find("ul").children().length?!0:!1})}function aY(){$.ajax({url:"/sidebar",data:{lock:1,menu:bi},error:function(){},dataType:"html",success:function(a){$("#sidebar-menu-list").html(a),$("#sidebar-menu-list li").not(".no-sort").sort(a2).appendTo("#sidebar-menu-list"),$("#sidebar-menu-list li").not(".no-sort").each(function(b,c){0==$(c).data("visible")&&$(c).hide()}),a8(),bc("#sidebar-menu-list .list-container")},type:"POST"})}function a2(a,b){return $(b).data("position")<$(a).data("position")?1:-1}function a5(){$(".enable-show-hide").each(function(){var a=$(this).attr("name");bd(a)})}function bd(c,d){if(void 0===d&&(d=0),d){var b="#myModal "}else{var b=""}$(b+"#"+c+"_field").length&&(a9(c,d),$(b+'input[name="'+c+'"]').on("switchChange.bootstrapSwitch",function(){a9(c,d)}))}function a9(c,d){if(d){var b="#myModal "}else{var b=""}var f=c+"_field";$(b+'input[name="'+c+'"]').is(":checked")?$(b+"#"+f).show():$(b+"#"+f).hide()}function be(){var a=$("#leave-status-form #status").val();"approved"==a?$(".leave_date_approved").show():$(".leave_date_approved").hide()}function aW(a){$(a+" #template_id").on("change",function(){$.ajax({url:$(a).attr("data-url"),type:"post",data:{template_id:$(this).val(),user_id:$(a).attr("data-user-id")},error:function(){},success:function(b){"success"==b.status&&($(a+" #mail_subject").val(b.subject),$(a+" #mail_body").summernote("code",b.body))}})})}function a1(a){$(a).iCheck({checkboxClass:"icheckbox_flat-blue",radioClass:"iradio_flat-blue",increaseArea:"20%"})}function ba(a){$(a).selectpicker({size:5,liveSearch:!0})}function a4(a){$(a).length&&$(a).clockpicker({donetext:"Done",twelvehour:!0,autoclose:!0,"default":"now"})}function bb(a){$(a).length&&$(a).summernote({placeholder:"Type here",height:$(a).attr("data-height")?$(a).attr("data-height"):100})}function aQ(a){$(a).length&&$(a).redactor({minHeight:$(a).attr("data-height")?$(a).attr("data-height"):250})}function aT(a){$(a).length>0&&$(a).datepicker({format:"yyyy-mm-dd",clearBtn:!0})}function aV(a){return available_date.length?(dmy=a.getFullYear()+"-"+("0"+(a.getMonth()+1)).slice(-2)+"-"+("0"+a.getDate()).slice(-2),-1!=$.inArray(dmy,available_date)?!0:!1):!0}function bj(a){$(a).length>0&&$(a).datepicker({format:"yyyy-mm-dd",autoclose:!0,multidate:!1,beforeShowDay:function(b){return aV(b)},clearBtn:!0,todayHighlight:!0,language:aE})}function bf(a){$(a).length>0&&$(a).datetimepicker({autoclose:1,format:"yyyy-mm-dd HH:ii p",startView:1,minuteStep:1,initialDate:default_datetimepicker_date})}function aS(){$("textarea").on("propertychange keyup input paste",function(){if($(this).attr("data-show-counter")>0){var a=$(this).attr("data-limit")?$(this).data("limit"):aB,b=a-$(this).val().length;b>0||$(this).val($(this).val().substring(0,a)),$(this).next("span").text((b>0?b:0)+" "+bg)}})}function a6(){$.each($("textarea[data-autoresize]"),function(){var a=this.offsetHeight-this.clientHeight,b=function(c){$(c).css("height","auto").css("height",c.scrollHeight+a)};$(this).on("keyup input",function(){b(this)}).removeAttr("data-autoresize")})}function a7(c){if(void 0===c&&(c=0),c){var d="#myModal ",b='#user-salary-edit-form select[name="type"]'}else{var d="",b='#user-salary-form select[name="type"]'}$(d+".hourly_salary_field").hide(),$(d+".monthly_salary_field").hide();var f=$(d+b).val();"hourly"==f?$(d+".hourly_salary_field").show():"monthly"==f&&$(d+".monthly_salary_field").show()}function aD(c){if(void 0===c&&(c=0),c){var d="#myModal ",b='#payroll-edit-form select[name="type"]'}else{var d="",b='#payroll-form select[name="type"]'}$(d+".hourly_salary_field").hide(),$(d+".monthly_salary_field").hide();var f=$(d+b).val();"hourly"==f?$(d+".hourly_salary_field").show():"monthly"==f&&$(d+".monthly_salary_field").show()}function aj(){$(".leave_no_of_level").hide(),$(".leave_approval_level_designation").hide();var a=$('select[name="leave_approval_level"]').val();"multiple"==a?$(".leave_no_of_level").show():"designation"==a&&$(".leave_approval_level_designation").show()}function ar(){$(".expense_no_of_level").hide(),$(".expense_approval_level_designation").hide();var a=$('select[name="expense_approval_level"]').val();"multiple"==a?$(".expense_no_of_level").show():"designation"==a&&$(".expense_approval_level_designation").show()}function ak(c){if(void 0===c&&(c=0),c){var d="#myModal "}else{var d=""}var b=$(d+"#announcement-audience").val();ao(b,d),$(document).on("change",d+"#announcement-audience",function(){var a=$(d+"#announcement-audience").val();ao(a,d)})}function ao(a,b){"user"==a?($(b+".announcement-audience-user").show(),$(b+".announcement-audience-designation").hide()):"designation"==a?($(b+".announcement-audience-user").hide(),$(b+".announcement-audience-designation").show()):($(b+".announcement-audience-user").hide(),$(b+".announcement-audience-designation").hide())}function aC(c){if(void 0===c&&(c=0),c){var d="#myModal "}else{var d=""}var b=$(d+"#award-duration").val();aG(b,d),$(document).on("change",d+"#award-duration",function(){var a=$(d+"#award-duration").val();aG(a,d)})}function aG(a,b){"monthly"==a?($(b+".award-monthly-field").show(),$(b+".award-yearly-field").hide(),$(b+".award-period-field").hide()):"yearly"==a?($(b+".award-yearly-field").show(),$(b+".award-monthly-field").hide(),$(b+".award-period-field").hide()):"period"==a?($(b+".award-period-field").show(),$(b+".award-yearly-field").hide(),$(b+".award-monthly-field").hide()):($(b+".award-period-field").hide(),$(b+".award-yearly-field").hide(),$(b+".award-monthly-field").hide())}function aP(){$.ajax({url:"/daily-attendance/lists",type:"post",data:{attendance_statistics:1},dataType:"html",error:function(){},success:function(a){$("#attendance-statistics-table > tbody").html(a),$(".show-table td:last-child").addClass("text-right")}})}function aF(a){if($("#"+a).attr("data-extra")){var b="table=table"+$("#"+a).attr("data-extra")}else{var b="table=table"}$.ajax({url:$("#"+a).attr("data-source"),data:b,error:function(){},dataType:"html",success:function(c){$("#"+a+"> tbody").html(c),$(".show-table td:last-child").addClass("text-right")},type:"POST"})}function an(){$("#myModal .enable-show-hide").each(function(){var c=$(this).attr("name");bd(c,1)}),a7(1),$('#myModal #user-salary-edit-form select[name="type"]').on("change",function(){a7(1)}),aD(1),$('#myModal #payroll-edit-form select[name="type"]').on("change",function(){aD(1)}),ak(1),aC(1),bh(1),$(".show-shift").hide(),$(".show-custom-shift").hide();var a=$("#myModal #shift_type").val();"predefined"==a?$(".show-shift").show():$(".show-custom-shift").show(),$("#myModal #shift_type").on("change",function(){var c=$("#myModal #shift_type").val();"predefined"==c?($(".show-shift").show(),$(".show-custom-shift").hide()):($(".show-custom-shift").show(),$(".show-shift").hide())}),aT("#myModal .input-daterange"),a4("#myModal .timepicker"),$("#myModal .file-uploader").length&&aZ("#myModal .file-uploader"),$("#myModal .switch-input").bootstrapSwitch(),$('input[data-role="tagsinput"]').length&&$('input[data-role="tagsinput"]').tagsinput("refresh"),$(".show-table td:last-child").addClass("text-right"),ba("#myModal .show-tick"),a1("#myModal .icheck"),bj("#myModal .datepicker"),bb("#myModal .summernote"),aQ("#myModal .redactor"),bf("#myModal .datetimepicker"),aS(),a6();var b=$("#myModal").find("form");$("#myModal").find("form").on("submit",function(c){"noAjax"!=$(b).attr("data-submit")&&(c.preventDefault(),aA($(b)))}),$("#myModal .password-strength").pwstrength()}function ax(){mail_driver=$("#mail_driver").val(),$(".mail_config").hide(),"smtp"==mail_driver?$("#smtp_configuration").show():"mandrill"==mail_driver?$("#mandrill_configuration").show():"mailgun"==mail_driver?$("#mailgun_configuration").show():$(".mail_config").hide()}function aw(){$("form").on("submit",function(a){var b=$("#"+$(this).attr("id"));"noAjax"!=b.attr("data-submit")&&(a.preventDefault(),aA(b))})}function aA(c){$(c).find(".switch-input").each(function(){if(!$(this).is(":checked")&&0==$(this).attr("data-off-value")){var a='<input type="hidden" name="'+$(this).attr("name")+'" value="0" />'}$(c).append(a)}),c.find(":submit").prop("disabled",!0),$("#loading-img").fadeIn("slow"),toastr.info(aa,"",{positionClass:ab}),$("#"+c.attr("id")).find(".form-group").removeClass("has-error");var d=new FormData($("#"+c.attr("id"))[0]);if(c.attr("data-file-upload")){var b=[];$("#"+c.attr("id")).find(c.attr("data-file-upload")).each(function(){b.push($(this).attr("data-key"))}),d.append("upload_key[]",b)}d.append("ajax_submit",1),c.attr("data-draggable")&&$(".draggable-container .draggable").each(function(f,e){d.append($(e).attr("data-name"),$(e).attr("data-index"))}),$.ajax({url:c.attr("action"),type:"post",contentType:!1,processData:!1,data:d,success:function(h){var f=h.redirect?h.redirect:c.attr("data-redirect")?c.attr("data-redirect"):"",j=c.attr("data-redirect-msg")?c.attr("data-redirect-msg"):aR,g=c.attr("data-redirect-duration")?c.attr("data-redirect-duration"):2000;toastr.clear(),"error"==h.status?(toastr.error(h.message,"",{positionClass:ab}),f&&setTimeout(function(){window.location.href=f},g)):(h.message&&toastr.success(h.message,"",{positionClass:ab}),f&&(toastr.success(j,"",{positionClass:ab}),setTimeout(function(){window.location.href=f},g)),$("#myModal").modal("hide"),$(".datatable").length>0&&ap(),c.attr("data-refresh")&&ac(c.attr("data-refresh")),c.attr("data-no-form-clear")||az(c),c.attr("data-sidebar")&&aY(),$("#setup_guide").length>0&&$("#setup_guide").html(h.setup_guide),c.attr("data-setup-guide-complete")&&$("#setup_panel").hide(),c.attr("data-table-refresh")&&aF(c.attr("data-table-refresh")),h.refresh_table&&aF(h.refresh_table),h.refresh_content&&ac(h.refresh_content),h.new_data&&$("#"+h.new_data.field).length>0&&($("#"+h.new_data.field).append('<option value="'+h.new_data.id+'">'+h.new_data.value+"</option>"),$("#"+h.new_data.field).selectpicker("refresh")),$("#designation-hierarchy").length&&ah("designation"),$("#location-hierarchy").length&&ah("location"),c.attr("data-file-upload")&&aZ(c.attr("data-file-upload")),$("#auth_token").length>0&&""!=h.auth_token&&null!=h.auth_token&&$("#auth_token").html(h.auth_token))},error:function(g){if(toastr.clear(),422===g.status){var f=JSON.parse(g.responseText),h="";$.each(f,function(j,i){$("#"+c.attr("id")+' input[name="'+j+'"]').closest(".form-group").addClass("has-error"),""==h&&($("#"+c.attr("id")+' input[name="'+j+'"]').focus(),aK||(h=i[0]+"<br />")),aK&&(h+=i[0]+"<br />")}),toastr.error(h,"",{positionClass:ab})}else{toastr.error(af,"",{positionClass:ab})}},complete:function(){c.find(":submit").prop("disabled",!1),$("#loading-img").fadeOut("slow")}})}function az(a){$(a).find(":input").each(function(){switch(this.type){case"email":case"url":case"number":case"password":case"text":case"textarea":case"file":$(this).val("");break;case"checkbox":case"radio":this.checked=!1,$(a).find(".icheck").iCheck({uncheckedClass:"",checkboxClass:"icheckbox_flat-blue",radioClass:"iradio_flat-blue",increaseArea:"20%"})}}),$(".switch-input").bootstrapSwitch("destroy",!0),$(".switch-input").bootstrapSwitch(),a5(),$(".show-tick").selectpicker("val",""),$(".summernote").length&&$(a).find(".summernote").summernote("reset"),$(".redactor").length&&$(".redactor").redactor("code.set",""),$('input[data-role="tagsinput"]').length&&$('input[data-role="tagsinput"]').tagsinput("removeAll"),$(".countdown").html("")}function ag(a){var b;return b=$("#"+a).attr("data-form")?$("#"+$("#"+a).attr("data-form")).serialize():{_token:au}}function at(a){return[{extend:"print",text:'<i class="fa fa-print" data-toggle="tooltip" title="" data-placement="bottom" data-original-title="Print This"></i>',title:$("#"+a).attr("data-table-title"),exportOptions:{columns:":visible"}},{extend:"excel",text:'<i class="fa fa-file-excel-o" data-toggle="tooltip" title="" data-placement="bottom" data-original-title="Download Spreadsheet"></i>',exportOptions:{columns:":visible"}},{extend:"pdf",text:'<i class="fa fa-file-pdf-o" data-toggle="tooltip" title="" data-placement="bottom" data-original-title="Download PDF"></i>',title:$("#"+a).attr("data-table-title"),exportOptions:{columns:":visible"}},{extend:"copy",text:'<i class="fa fa-files-o" data-toggle="tooltip" title="" data-placement="bottom" data-original-title="Copy To Clipboard"></i>',exportOptions:{columns:":visible"}},{extend:"colvis",text:'<i class="fa fa-columns" data-toggle="tooltip" title="" data-placement="bottom" data-original-title="Add/Remove Columns"></i>'}]}function ap(){$(".datatable").each(function(){var a=$(this).attr("id");aJ[a].ajax.reload()})}function ay(c,d){$("#"+d).height(c.height);var b=echarts.init(document.getElementById(d)),f={title:{text:c.text},tooltip:{trigger:"axis"},legend:{data:c.legend},noDataLoadingOption:aq,toolbox:aI,xAxis:[{type:"value",boundaryGap:[0,0.01]}],yAxis:[{type:"category",data:c.y_data}],series:c.x_data};b.setOption(f)}function al(c,d){$("#"+d).height(300);var b=echarts.init(document.getElementById(d)),f={title:{text:c.title_text},tooltip:{trigger:"item",formatter:"{b} : {c} ({d}%)"},noDataLoadingOption:aq,legend:{orient:"vertical",x:"right",y:"bottom",data:c.legend},toolbox:aI,series:[{name:c.name,type:"pie",radius:["50%","70%"],itemStyle:aH,data:c.data}]};b.clear(),b.setOption(f)}function ai(c,d){$("#"+d).height(c.height);var b=echarts.init(document.getElementById(d));option={title:{text:c.title_text},tooltip:{trigger:"axis",formatter:"{b} : {c} "+c.title},noDataLoadingOption:aq,legend:{data:c.legend,x:"right",y:"bottom"},toolbox:aI,xAxis:[{type:"value",boundaryGap:[0,0.01]}],yAxis:[{type:"category",data:c.ydata}],series:[{name:c.name,type:"bar",mapValuePrecision:0,data:c.xdata}]},b.clear(),b.setOption(option)}function ah(a){$.ajax({url:"/"+a+"/hierarchy",error:function(){},dataType:"html",success:function(b){$("#"+a+"-hierarchy").html(b)},type:"POST"})}function a0(a){var b="ajax_submit=1";$(a).attr("data-extra")&&(b+=$(a).attr("data-extra")),$(a).attr("data-field")&&(b=b+"&"+$(a).attr("data-field")+"="+$("#"+$(a).attr("data-field")).val()),$.ajax({url:$(a).attr("data-source"),data:b,dataType:"json",type:"post",error:function(){toastr.error(af,"",{positionClass:ab})},success:function(c){"error"==c.status?toastr.error(c.message,"",{positionClass:ab}):($(".datatable").length>0&&ap(),$(a).attr("data-refresh")&&ac($(a).attr("data-refresh")),$(a).attr("data-table-refresh")&&aF($(a).attr("data-table-refresh")),$(a).hasClass("mark-hidden")&&$(a).parent("p").hide(),c.message&&toastr.success(c.message,"",{positionClass:ab}),c.redirect&&setTimeout(function(){window.location.href=c.redirect},2000))}})}function av(){$.ajax({url:"/fetch-chat",data:{lock:1},error:function(){},dataType:"html",success:function(a){$("#chat-messages").html(a),$("#chat-messages .textAvatar").nameBadge(),$("#chat-box").animate({scrollTop:$("#chat-messages").height()},"fast")},type:"POST"})}function am(){var a="uuid="+$("#load-message").attr("data-uuid");$.ajax({url:"/load-message",error:function(){},data:a,dataType:"html",success:function(b){$("#load-message").html(b),$("#load-message .textAvatar").nameBadge()},type:"POST"})}function ad(c){var d="ajax=1";$("#"+c).attr("data-extra")&&(d+=$("#"+c).attr("data-extra")),$("#"+c).attr("data-field")&&(d=d+"&"+$("#"+c).attr("data-field")+"="+$("#"+$("#"+c).attr("data-field")).val());var b=$("#"+c).attr("data-source");$.ajax({url:b,error:function(){},data:d,dataType:"html",success:function(a){$("#"+c).html(a),$("#"+c+" .textAvatar").nameBadge(),$(".show-table td:last-child").addClass("text-right"),aS(),a6()},type:"POST"})}function ac(c){for(var d=c.split(","),b=0;b<d.length;b++){"chat-messages"==d[b]?av():"load-message"==d[b]?am():$("#"+d[b]).length&&ad(d[b])}}$.ajaxSetup({headers:{"X-CSRF-Token":$("meta[name=csrf-token]").attr("content")}}),$(window).load(function(){$("#loading").fadeOut("slow")});var au=$('meta[name="csrf-token"]').attr("content"),ab=$("#js-var").attr("data-toastr-position"),af=$("#js-var").attr("data-something-error-message"),bg=$("#js-var").attr("data-character-remaining"),aB=$("#js-var").attr("data-textarea-limit"),aa=$("#js-var").attr("data-processing-messsage"),aR=$("#js-var").attr("data-redirecting-messsage"),aM=$("#js-var").attr("data-action-confirm-message"),aK=$("#js-var").attr("data-show-error-message"),aO=$("#js-var").attr("data-calendar-language"),aN=$("#js-var").attr("data-datatable-language"),aE=$("#js-var").attr("data-datepicker-language"),bi=$("#js-var").attr("data-menu"),aL=$("#js-var").attr("data-new-notification");$(".slimscroller").length&&$(".slimscroller").slimscroll({height:"auto",size:"15px",railOpacity:0.3,wheelStep:5}),$.ajax({url:"/pusher-credential",type:"POST",error:function(){},dataType:"json",success:function(c){if(c.notification){var b=new Pusher(c.key,{cluster:c.cluster,encrypted:c.encrypted}),d=b.subscribe("my-channel");d.bind("App\\Events\\PushEvent",aX)}}}),$(".play-music").on("click",function(){var a=$(this).attr("id"),b=$("#music_"+a)[0];b.play()}),bc(".list-container"),bh(),$(".file-uploader").length&&aZ(".file-uploader"),$(".tab-list").each(function(){$(this).children().first().addClass("active")}),$(".tab-content div:first-child").addClass("active"),$(".show-count").each(function(){$(this).prop("Counter",0).animate({Counter:$(this).text()},{duration:4000,easing:"swing",step:function(a){$(this).text(Math.ceil(a))}})}),$(".slider").length&&($(".slider").slider(),$(".slider").on("slide",function(c){var d=c.value,b=d[0]+" to "+d[1];$(".slider").next("span").text(b)})),$(".tooltips").tooltip({selector:"[data-toggle=tooltip]",container:"body"}),$("button.show-sidebar").click(function(){$("div.left").toggleClass("mobile-sidebar"),$("div.right").toggleClass("mobile-content"),$("div.logo-brand").toggleClass("logo-brand-toggle")}),a8(),$("#sidebar-menu").length&&aY(),$(".draggable-container").length&&$(".draggable-container").sortable({update:function(){$(".draggable-container .draggable").each(function(a,b){$elm=$(b),$elm.attr("data-index",$elm.index(".draggable-container .draggable"))})}}),$(".switch-input").length&&$(".switch-input").bootstrapSwitch(),$(".file-input").length&&$(".file-input").bootstrapFileInput(),$(".password-strength").length&&$(".password-strength").pwstrength(),$(".textAvatar").length&&$(".textAvatar").nameBadge(),$(".show-table td:last-child").addClass("text-right"),bj(".datepicker"),a1(".icheck"),ba(".show-tick"),bb(".summernote"),aQ(".redactor"),a4(".timepicker"),bf(".datetimepicker"),a5(),$("#leave-status-form").length&&(be(),$("#leave-status-form #status").on("change",function(){be()})),$("#user-email-form").length&&aW("#user-email-form"),$("form").on("keyup keypress",function(a){var b=a.keyCode||a.which;return 13===b&&$(this).attr("data-disable-enter-submission")?(a.preventDefault(),!1):void 0}),$(document).on("click","[data-submit-alert-message]",function(c){c.preventDefault();var d=$(this),b=d.attr("data-alert-message")?d.attr("data-alert-message"):aM;bootbox.confirm(b,function(f){if(f){var e=d.closest("form");"noAjax"!=e.attr("data-submit")?aA(e):$(e).submit()}})}),$(document).on("click",".click-alert-message",function(c){c.preventDefault();var d=$(this),b=d.attr("data-alert-message")?d.attr("data-alert-message"):aM;bootbox.confirm(b,function(a){a&&d.attr("data-ajax")&&a0(d)})}),aT(".input-daterange"),$(".mdatepicker").length>0&&$(".mdatepicker").datepicker({format:"yyyy-mm-dd",multidate:!0,clearBtn:!0,beforeShowDay:function(a){return aV(a)},language:aE,todayHighlight:!0}),$("#myWizard").length>0&&$("#myWizard").easyWizard({buttonsClass:"btn btn-default",submitButtonClass:"btn btn-primary",showSteps:!0,showButtons:!0,submitButton:!1}),$(".custom-field-option").hide(),$(document).on("change","#type",function(){var a=$("#custom-field-form #type").val();"select"==a||"radio"==a||"checkbox"==a?$(".custom-field-option").show():$(".custom-field-option").hide()}),a7(),$('#user-salary-form select[name="type"]').on("change",function(){a7()}),aD(),$('#payroll-form select[name="type"]').on("change",function(){aD()}),aj(),$('select[name="leave_approval_level"]').on("change",function(){aj()}),ar(),$('select[name="expense_approval_level"]').on("change",function(){ar()}),ak(),aC(),aw(),a6(),aS(),$('input[data-role="tagsinput"]').length&&$('input[data-role="tagsinput"]').tagsinput("refresh"),$("#attendance-statistics-table").length&&aP(),$(".ajax-table").each(function(c,d){var b=$(d).attr("id");aF(b)}),$("#myModal").on("show.bs.modal",function(a){var b=$(a.relatedTarget);b.attr("data-href")&&$.get(b.attr("data-href"),function(c){$("#myModal").find(".modal-content").html(c),$("#myModal").modal("show"),an()},"html")}),$("#myModal").on("hide.bs.modal",function(){ac("load-notification-message")}),ax(),$("#mail_driver").on("change",function(){ax()}),$(".post-button").on("click",function(){$("#form-action").attr("value",$(this).attr("data-button-value"))}),$("#render_calendar").length>0&&$("#render_calendar").fullCalendar({header:{left:"prev,next today",center:"title",right:"month,agendaWeek,agendaDay"},locale:aO,events:{url:"/calendar-events",type:"POST"},eventRender:function(a,b){$(b).tooltip({title:a.title}),a.icon&&b.find(".fc-title").prepend(" <i class='fa fa-"+a.icon+" fa-lg'></i> ")}});var aU="<'row'<'col-sm-5 margin-left-10'li><'col-sm-5 pull-right margin-right-10'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-4 margin-left-10'B><'col-sm-6 pull-right margin-right-10'p>>",aJ=[];$(".datatable").length>0&&$(".datatable").each(function(){var a=$(this).attr("id");aJ[a]=$("#"+a).DataTable({dom:aU,buttons:at(a),ajax:{url:"/"+$("#"+a).attr("data-table-source")+"/lists",type:"post",data:function(){return ag(a)}},ordering:!0,autoWidth:!0,language:{url:aN},order:$("#"+a).attr("data-disable-sorting")?[]:[[1,"asc"]],columnDefs:$("#"+a).attr("data-disable-sorting")?[]:[{orderable:!1,targets:0}]}),$("#"+a).on("xhr.dt",function(d,b,f){if(f.foot){var c=$("#"+a).find("tfoot");c.length||(c=$("<tfoot>").appendTo("#"+a)),c.html(f.foot)}f.graph&&($("#user-role-wise-graph").length&&al(f.graph.role,"user-role-wise-graph"),$("#user-department-wise-graph").length&&al(f.graph.department,"user-department-wise-graph"),$("#user-designation-wise-graph").length&&al(f.graph.designation,"user-designation-wise-graph"),$("#user-location-wise-graph").length&&al(f.graph.location,"user-location-wise-graph"),$("#user-status-wise-graph").length&&al(f.graph.status,"user-status-wise-graph"),$("#user-gender-wise-graph").length&&al(f.graph.gender,"user-gender-wise-graph"),$("#leave-status-wise-graph").length&&al(f.graph.leave_status,"leave-status-wise-graph"),$("#leave-type-wise-graph").length&&al(f.graph.leave_type,"leave-type-wise-graph"),$("#department-wise-leave-graph").length&&al(f.graph.leave_department,"department-wise-leave-graph"),$("#location-wise-leave-graph").length&&al(f.graph.leave_location,"location-wise-leave-graph"),$("#expense-status-wise-graph").length&&al(f.graph.expense_status,"expense-status-wise-graph"),$("#expense-head-wise-graph").length&&al(f.graph.expense_head,"expense-head-wise-graph"),$("#department-wise-expense-graph").length&&al(f.graph.expense_department,"department-wise-expense-graph"),$("#location-wise-expense-graph").length&&al(f.graph.expense_location,"location-wise-expense-graph"),$("#department-wise-award-graph").length&&al(f.graph.award_department,"department-wise-award-graph"),$("#location-wise-award-graph").length&&al(f.graph.award_location,"location-wise-award-graph"),$("#category-wise-award-graph").length&&al(f.graph.award_category,"category-wise-award-graph"),$("#audience-wise-announcement-graph").length&&al(f.graph.announcement_audience,"audience-wise-announcement-graph"),$("#designation-wise-announcement-graph").length&&al(f.graph.announcement_designation,"designation-wise-announcement-graph"),$("#category-wise-ticket-graph").length&&al(f.graph.ticket_category,"category-wise-ticket-graph"),$("#priority-wise-ticket-graph").length&&al(f.graph.ticket_priority,"priority-wise-ticket-graph"),$("#status-wise-ticket-graph").length&&al(f.graph.ticket_status,"status-wise-ticket-graph"),$("#department-wise-ticket-graph").length&&al(f.graph.ticket_department,"department-wise-ticket-graph"),$("#category-wise-task-graph").length&&al(f.graph.task_category,"category-wise-task-graph"),$("#priority-wise-task-graph").length&&al(f.graph.task_priority,"priority-wise-task-graph"),$("#status-wise-task-graph").length&&al(f.graph.task_status,"status-wise-task-graph"),$("#department-wise-task-graph").length&&al(f.graph.task_department,"department-wise-task-graph"),$("#holiday-graph").length&&ai(f.graph.holiday,"holiday-graph"),$("#daily-attendance-late-graph").length&&ai(f.graph.daily_attendance.late,"daily-attendance-late-graph"),$("#daily-attendance-early-leaving-graph").length&&ai(f.graph.daily_attendance.early_leaving,"daily-attendance-early-leaving-graph"),$("#daily-attendance-overtime-graph").length&&ai(f.graph.daily_attendance.overtime,"daily-attendance-overtime-graph"),$("#daily-attendance-working-graph").length&&ai(f.graph.daily_attendance.working,"daily-attendance-working-graph"),$("#daily-attendance-rest-graph").length&&ai(f.graph.daily_attendance.rest,"daily-attendance-rest-graph"),$("#date-wise-attendance-late-graph").length&&ai(f.graph.date_wise_attendance.late,"date-wise-attendance-late-graph"),$("#date-wise-attendance-early-leaving-graph").length&&ai(f.graph.date_wise_attendance.early_leaving,"date-wise-attendance-early-leaving-graph"),$("#date-wise-attendance-overtime-graph").length&&ai(f.graph.date_wise_attendance.overtime,"date-wise-attendance-overtime-graph"),$("#date-wise-attendance-working-graph").length&&ai(f.graph.date_wise_attendance.working,"date-wise-attendance-working-graph"),$("#date-wise-attendance-rest-graph").length&&ai(f.graph.date_wise_attendance.rest,"date-wise-attendance-rest-graph"),$("#user-wise-summary-attendance-late-graph").length&&ai(f.graph.user_wise_summary_attendance.late,"user-wise-summary-attendance-late-graph"),$("#user-wise-summary-attendance-early-leaving-graph").length&&ai(f.graph.user_wise_summary_attendance.early_leaving,"user-wise-summary-attendance-early-leaving-graph"),$("#user-wise-summary-attendance-overtime-graph").length&&ai(f.graph.user_wise_summary_attendance.overtime,"user-wise-summary-attendance-overtime-graph"),$("#user-wise-summary-attendance-working-graph").length&&ai(f.graph.user_wise_summary_attendance.working,"user-wise-summary-attendance-working-graph"),$("#user-wise-summary-attendance-rest-graph").length&&ai(f.graph.user_wise_summary_attendance.rest,"user-wise-summary-attendance-rest-graph"),$("#user-wise-summary-attendance-present-graph").length&&ai(f.graph.user_wise_summary_attendance.present,"user-wise-summary-attendance-present-graph"),$("#user-wise-summary-attendance-absent-graph").length&&ai(f.graph.user_wise_summary_attendance.absent,"user-wise-summary-attendance-absent-graph"),$("#user-wise-summary-attendance-leave-graph").length&&ai(f.graph.user_wise_summary_attendance.leave,"user-wise-summary-attendance-leave-graph"),$("#user-wise-summary-attendance-half-day-graph").length&&ai(f.graph.user_wise_summary_attendance.half_day,"user-wise-summary-attendance-half-day-graph"),$("#date-wise-summary-attendance-late-graph").length&&ai(f.graph.date_wise_summary_attendance.late,"date-wise-summary-attendance-late-graph"),$("#date-wise-summary-attendance-early-leaving-graph").length&&ai(f.graph.date_wise_summary_attendance.early_leaving,"date-wise-summary-attendance-early-leaving-graph"),$("#date-wise-summary-attendance-overtime-graph").length&&ai(f.graph.date_wise_summary_attendance.overtime,"date-wise-summary-attendance-overtime-graph"),$("#date-wise-summary-attendance-present-graph").length&&ai(f.graph.date_wise_summary_attendance.present,"date-wise-summary-attendance-present-graph"),$("#date-wise-summary-attendance-absent-graph").length&&ai(f.graph.date_wise_summary_attendance.absent,"date-wise-summary-attendance-absent-graph"),$("#date-wise-summary-attendance-leave-graph").length&&ai(f.graph.date_wise_summary_attendance.leave,"date-wise-summary-attendance-leave-graph"),$("#date-wise-summary-attendance-half-day-graph").length&&ai(f.graph.date_wise_summary_attendance.half_day,"date-wise-summary-attendance-half-day-graph"),$("#daily-shift-graph").length&&ai(f.graph.daily_shift,"daily-shift-graph"),$("#date-wise-shift-graph").length&&ai(f.graph.date_wise_shift,"date-wise-shift-graph"))})});var aH={normal:{label:{show:!1},labelLine:{show:!1}},emphasis:{label:{show:!0,position:"center",textStyle:{fontSize:"30",fontWeight:"bold"}}}},aI={show:!0,feature:{restore:{show:!0,title:"Refresh"},saveAsImage:{show:!0,title:"Save as Image",lang:"Save Image"}}},aq={text:"No Data",effect:"bubble"};$("#expense-monthly-report-graph").length&&$.ajax({url:"/expense-monthly-report-graph",type:"POST",error:function(){},dataType:"json",success:function(a){ay(a.expense,"expense-monthly-report-graph")}}),$("#payroll-monthly-report-graph").length&&$.ajax({url:"/payroll-monthly-report-graph",type:"POST",error:function(){},dataType:"json",success:function(a){ay(a.payroll,"payroll-monthly-report-graph")}}),$("#employment-report-graph").length&&$.ajax({url:"/employment-report-graph",type:"POST",error:function(){},dataType:"json",success:function(a){ay(a.employment,"employment-report-graph"),ay(a.salary,"salary-wise-employment-report-graph"),ay(a.monthly_salary,"monthly-salary-wise-employment-report-graph")}}),$("#weekly-attendance-statistics-graph").length&&$.ajax({url:"/date-wise-summary-attendance/lists",type:"POST",error:function(){},dataType:"json",data:{type:"weekly-attendance-statistics-graph"},success:function(c){$("#weekly-attendance-statistics-graph").height(300);var d=echarts.init(document.getElementById("weekly-attendance-statistics-graph")),b={title:{text:c.dashboard_graph.title_text},tooltip:{trigger:"axis"},noDataLoadingOption:aq,legend:{data:c.dashboard_graph.legend,x:"right",y:"bottom"},toolbox:aI,xAxis:[{type:"category",boundaryGap:!1,data:c.dashboard_graph.title}],yAxis:[{type:"value"}],series:c.dashboard_graph.data};d.setOption(b)}}),$("#designation-hierarchy").length&&ah("designation"),$("#location-hierarchy").length&&ah("location"),$(document.body).on("click","a",function(a){$('[data-toggle="tooltip"]').tooltip("destroy"),$(this).attr("data-ajax")&&!$(this).hasClass("click-alert-message")&&(a.preventDefault(),a0(this))}),$("#chat-messages").length&&(av(),$("#chat-messages").attr("data-chat-refresh")>0&&setInterval(function(){av()},1000*$("#chat-messages").attr("data-chat-refresh-duration"))),$("#load-message").length&&am(),$("#load-clock-button").length&&ad("load-clock-button"),$("#load-user-detail").length&&ad("load-user-detail"),$("#load-task-detail").length&&ad("load-task-detail"),$("#load-task-description").length&&ad("load-task-description"),$("#load-task-activity").length&&ad("load-task-activity"),$("#load-task-comment").length&&ad("load-task-comment"),$("#load-task-top-chart").length&&ad("load-task-top-chart"),$("#load-job-application-detail").length&&ad("load-job-application-detail"),$("#load-expense-detail").length&&ad("load-expense-detail"),$("#load-leave-detail").length&&ad("load-leave-detail"),$("#load-leave-current-status").length&&ad("load-leave-current-status"),$("#load-ticket-detail").length&&ad("load-ticket-detail"),$("#load-ticket-reply").length&&ad("load-ticket-reply"),$("#load-notification-message").length&&ad("load-notification-message"),$(".login-as").on("click",function(){$("input[name='username']").val($(this).attr("data-username")),$("input[name='email']").val($(this).attr("data-email")),$("input[name='password']").val($(this).attr("data-password"))}),$(document).on("click",".task-sign-off-request",function(){var c=$(this).attr("data-task-id"),d=$(this).attr("data-action"),b=$(this).attr("data-url"),f=$("#task-sign-off-remarks").val();$(this).addClass("disabled"),$.ajax({url:b,type:"post",data:{task_id:c,remarks:f,action:d},error:function(){},success:function(a){"error"==a.status?a.redirect&&setTimeout(function(){window.location.href=a.redirect},2000):(ac("load-task-description"),$(this).removeClass("disabled"))}})})}),function(a){a.fn.nameBadge=function(c){var b=a.extend({border:{color:"#ddd",width:0},colors:["#458b00","#f85931","#ce1836","#009989","#00688b","#8b1a1a"],text:"#fff",margin:2,middlename:!0,uppercase:!0,max:3},c);return this.each(function(){var g=a(this).text(),h=a(this).attr("data-image-size")?a(this).attr("data-image-size"):60;g.trim()||(g="User");var f=g.match(b.middlename?/\b(\w)/g:/^\w|\b\w(?=\S+$)/g),d=f.join("");d=d.substr(0,b.max),a(this).text(d),a(this).css({color:b.text,"background-color":b.colors[Math.floor(Math.random()*b.colors.length)],border:b.border.width+"px solid "+b.border.color,display:"inline-block","font-family":"Arial, 'Helvetica Neue', Helvetica, sans-serif","font-size":0.4*h,"border-radius":h+"px",width:h+"px",height:h+"px","line-height":h+"px",margin:b.margin+"px","text-align":"center","float":"left","text-transform":b.uppercase?"uppercase":""})})}}(jQuery);
