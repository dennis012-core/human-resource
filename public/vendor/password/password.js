/*!
* jQuery Password Strength plugin for Twitter Bootstrap
* Version: 2.0.2
*
* Copyright (c) 2008-2013 Tane Piper
* Copyright (c) 2013 Alejandro Blanco
* Dual licensed under the MIT and GPL licenses.
*/
(function(f){var e={};(function(j,i){j.fallback={wordLength:"Your password is too short",wordNotEmail:"Do not use your email as your password",wordSimilarToUsername:"Your password cannot contain your username",wordTwoCharacterClasses:"Use different character classes",wordRepetitions:"Too many repetitions",wordSequences:"Your password contains sequences",errorList:"Errors:",veryWeak:"Very Weak",weak:"Weak",normal:"Normal",medium:"Medium",strong:"Strong",veryStrong:"Very Strong"};j.t=function(l){var k="";if(i){k=i.t(l)}else{k=j.fallback[l]}return k===l?"":k}}(e,window.i18next));var g={};try{if(!f&&module&&module.exports){var f=require("jquery"),c=require("jsdom").jsdom;f=f(c().parentWindow)}}catch(h){}(function(j,k){var i={};k.forbiddenSequences=["0123456789","abcdefghijklmnopqrstuvwxyz","qwertyuiop","asdfghjkl","zxcvbnm","!@#$%^&*()_+"];i.wordNotEmail=function(l,m,n){if(m.match(/^([\w\!\#$\%\&\'\*\+\-\/\=\?\^\`{\|\}\~]+\.)*[\w\!\#$\%\&\'\*\+\-\/\=\?\^\`{\|\}\~]+@((((([a-z0-9]{1}[a-z0-9\-]{0,62}[a-z0-9]{1})|[a-z])\.)+[a-z]{2,6})|(\d{1,3}\.){3}\d{1,3}(\:\d{1,5})?)$/i)){return n}return 0};i.wordLength=function(l,o,p){var m=o.length,n=Math.pow(m,l.rules.raisePower);if(m<l.common.minChar){n=(n+p)}return n};i.wordSimilarToUsername=function(l,m,n){var o=j(l.common.usernameField).val();if(o&&m.toLowerCase().match(o.replace(/[\-\[\]\/\{\}\(\)\*\+\=\?\:\.\\\^\$\|\!\,]/g,"\\$&").toLowerCase())){return n}return 0};i.wordTwoCharacterClasses=function(l,m,n){if(m.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)||(m.match(/([a-zA-Z])/)&&m.match(/([0-9])/))||(m.match(/(.[!,@,#,$,%,\^,&,*,?,_,~])/)&&m.match(/[a-zA-Z0-9_]/))){return n}return 0};i.wordRepetitions=function(l,m,n){if(m.match(/(.)\1\1/)){return n}return 0};i.wordSequences=function(m,o,p){var n=false,l;if(o.length>2){j.each(k.forbiddenSequences,function(q,r){if(n){return}var s=[r,r.split("").reverse().join("")];j.each(s,function(t,u){for(l=0;l<(o.length-2);l+=1){if(u.indexOf(o.toLowerCase().substring(l,l+3))>-1){n=true}}})});if(n){return p}}return 0};i.wordLowercase=function(l,m,n){return m.match(/[a-z]/)&&n};i.wordUppercase=function(l,m,n){return m.match(/[A-Z]/)&&n};i.wordOneNumber=function(l,m,n){return m.match(/\d+/)&&n};i.wordThreeNumbers=function(l,m,n){return m.match(/(.*[0-9].*[0-9].*[0-9])/)&&n};i.wordOneSpecialChar=function(l,m,n){return m.match(/[!,@,#,$,%,\^,&,*,?,_,~]/)&&n};i.wordTwoSpecialChar=function(l,m,n){return m.match(/(.*[!,@,#,$,%,\^,&,*,?,_,~].*[!,@,#,$,%,\^,&,*,?,_,~])/)&&n};i.wordUpperLowerCombo=function(l,m,n){return m.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)&&n};i.wordLetterNumberCombo=function(l,m,n){return m.match(/([a-zA-Z])/)&&m.match(/([0-9])/)&&n};i.wordLetterNumberCharCombo=function(l,m,n){return m.match(/([a-zA-Z0-9].*[!,@,#,$,%,\^,&,*,?,_,~])|([!,@,#,$,%,\^,&,*,?,_,~].*[a-zA-Z0-9])/)&&n};k.validation=i;k.executeRules=function(l,n){var m=0;j.each(l.rules.activated,function(s,r){if(r){var t=l.rules.scores[s],p=k.validation[s],o,q;if(!j.isFunction(p)){p=l.rules.extra[s]}if(j.isFunction(p)){o=p(l,n,t);if(o){m+=o}if(o<0||(!j.isNumeric(o)&&!o)){q=l.ui.spanError(l,s);if(q.length>0){l.instances.errors.push(q)}}}}});if(j.isFunction(l.common.onScore)){m=l.common.onScore(l,n,m)}return m}}(f,g));try{if(module&&module.exports){module.exports=g}}catch(h){}var a={};a.common={};a.common.minChar=6;a.common.usernameField="#username";a.common.userInputs=[];a.common.onLoad=undefined;a.common.onKeyUp=undefined;a.common.onScore=undefined;a.common.zxcvbn=false;a.common.zxcvbnTerms=[];a.common.events=["keyup","change","paste"];a.common.debug=false;a.rules={};a.rules.extra={};a.rules.scores={wordNotEmail:-100,wordLength:-50,wordSimilarToUsername:-100,wordSequences:-20,wordTwoCharacterClasses:2,wordRepetitions:-25,wordLowercase:1,wordUppercase:3,wordOneNumber:3,wordThreeNumbers:5,wordOneSpecialChar:3,wordTwoSpecialChar:5,wordUpperLowerCombo:2,wordLetterNumberCombo:2,wordLetterNumberCharCombo:2};a.rules.activated={wordNotEmail:true,wordLength:true,wordSimilarToUsername:true,wordSequences:true,wordTwoCharacterClasses:false,wordRepetitions:false,wordLowercase:true,wordUppercase:true,wordOneNumber:true,wordThreeNumbers:true,wordOneSpecialChar:true,wordTwoSpecialChar:true,wordUpperLowerCombo:true,wordLetterNumberCombo:true,wordLetterNumberCharCombo:true};a.rules.raisePower=1.4;a.ui={};a.ui.bootstrap2=false;a.ui.bootstrap4=false;a.ui.colorClasses=["danger","danger","danger","warning","warning","success"];a.ui.showProgressBar=true;a.ui.progressBarEmptyPercentage=1;a.ui.progressBarMinPercentage=1;a.ui.progressBarExtraCssClasses="";a.ui.showPopover=false;a.ui.popoverPlacement="bottom";a.ui.showStatus=false;a.ui.spanError=function(i,j){var k=i.i18n.t(j);if(!k){return""}return'<span style="color: #d52929">'+k+"</span>"};a.ui.popoverError=function(i){var l=i.instances.errors,j=i.i18n.t("errorList"),k="<div>"+j+"<ul class='error-list' style='margin-bottom: 0;'>";f.each(l,function(m,n){k+="<li>"+n+"</li>"});k+="</ul></div>";return k};a.ui.showVerdicts=false;a.ui.showVerdictsInsideProgressBar=false;a.ui.useVerdictCssClass=false;a.ui.showErrors=false;a.ui.showScore=false;a.ui.container=undefined;a.ui.viewports={progress:undefined,verdict:undefined,errors:undefined,score:undefined};a.ui.scores=[0,14,26,38,50];a.i18n={};a.i18n.t=e.t;var d={};(function(l,k){var j=["error","warning","success"],i=["veryWeak","weak","normal","medium","strong","veryStrong"];k.getContainer=function(m,n){var o;o=l(m.ui.container);if(!(o&&o.length===1)){o=n.parent()}return o};k.findElement=function(o,m,n){if(m){return o.find(m).find(n)}return o.find(n)};k.getUIElements=function(o,p){var q,n,m;if(o.instances.viewports){return o.instances.viewports}q=k.getContainer(o,p);m={};if(o.ui.bootstrap4){n="progress.progress"}else{n="div.progress"}m.$progressbar=k.findElement(q,o.ui.viewports.progress,n);if(o.ui.showVerdictsInsideProgressBar){m.$verdict=m.$progressbar.find("span.password-verdict")}if(!o.ui.showPopover){if(!o.ui.showVerdictsInsideProgressBar){m.$verdict=k.findElement(q,o.ui.viewports.verdict,"span.password-verdict")}m.$errors=k.findElement(q,o.ui.viewports.errors,"ul.error-list")}m.$score=k.findElement(q,o.ui.viewports.score,"span.password-score");o.instances.viewports=m;return m};k.initProgressBar=function(n,o){var p=k.getContainer(n,o),m="<div style='margin-top:10px;height:5px;' class='progress ";if(n.ui.bootstrap2){m+=n.ui.progressBarExtraCssClasses+"'><div class='"}else{if(!n.ui.bootstrap2&&!n.ui.bootstrap4){m+="'><div class='"+n.ui.progressBarExtraCssClasses+" progress-"}}m+="bar'>";if(n.ui.bootstrap4){m="<progress class='progress "+n.ui.progressBarExtraCssClasses+"' value='0' max='100'>"}if(n.ui.showVerdictsInsideProgressBar){m+="<span class='password-verdict'></span>"}if(n.ui.bootstrap4){m+="</progress>"}else{m+="</div></div>"}if(n.ui.viewports.progress){p.find(n.ui.viewports.progress).append(m)}else{l(m).insertAfter(o)}};k.initHelper=function(n,p,o,m){var q=k.getContainer(n,p);if(m){q.find(m).append(o)}else{l(o).insertAfter(p)}};k.initVerdict=function(m,n){k.initHelper(m,n,"<span class='password-verdict'></span>",m.ui.viewports.verdict)};k.initErrorList=function(m,n){k.initHelper(m,n,"<ul class='error-list'></ul>",m.ui.viewports.errors)};k.initScore=function(m,n){k.initHelper(m,n,"<span class='password-score'></span>",m.ui.viewports.score)};k.initPopover=function(m,n){n.popover("destroy");n.popover({html:true,placement:m.ui.popoverPlacement,trigger:"manual",content:" "})};k.initUI=function(m,n){if(m.ui.showPopover){k.initPopover(m,n)}else{if(m.ui.showErrors){k.initErrorList(m,n)}if(m.ui.showVerdicts&&!m.ui.showVerdictsInsideProgressBar){k.initVerdict(m,n)}}if(m.ui.showProgressBar){k.initProgressBar(m,n)}if(m.ui.showScore){k.initScore(m,n)}};k.updateProgressBar=function(o,p,n,m){var q=k.getUIElements(o,p).$progressbar,r=q.find(".progress-bar"),s="progress-";if(o.ui.bootstrap2){r=q.find(".bar");s=""}l.each(o.ui.colorClasses,function(t,u){if(o.ui.bootstrap4){q.removeClass(s+u)}else{r.removeClass(s+"bar-"+u)}});if(o.ui.bootstrap4){q.addClass(s+o.ui.colorClasses[n]);q.val(m)}else{r.addClass(s+"bar-"+o.ui.colorClasses[n]);r.css("width",m+"%")}};k.updateVerdict=function(o,p,m,q){var n=k.getUIElements(o,p).$verdict;n.removeClass(o.ui.colorClasses.join(" "));if(m>-1){n.addClass(o.ui.colorClasses[m])}n.html(q)};k.updateErrors=function(o,q,m){var n=k.getUIElements(o,q).$errors,p="";if(!m){l.each(o.instances.errors,function(r,s){p+="<li>"+s+"</li>"})}n.html(p)};k.updateScore=function(n,p,r,m){var q=k.getUIElements(n,p).$score,o="";if(!m){o=r.toFixed(2)}q.html(o)};k.updatePopover=function(n,q,r,m){var s=q.data("bs.popover"),p="",o=true;if(n.ui.showVerdicts&&!n.ui.showVerdictsInsideProgressBar&&r.length>0){p="<h5><span class='password-verdict'>"+r+"</span></h5>";o=false}if(n.ui.showErrors){if(n.instances.errors.length>0){o=false}p+=n.ui.popoverError(n)}if(o||m){q.popover("hide");return}if(n.ui.bootstrap2){s=q.data("popover")}if(s.$arrow&&s.$arrow.parents("body").length>0){q.find("+ .popover .popover-content").html(p)}else{s.options.content=p;q.popover("show")}};k.updateFieldStatus=function(o,p,n,m){var q=o.ui.bootstrap2?".control-group":".form-group",r=p.parents(q).first();l.each(j,function(s,t){if(!o.ui.bootstrap2){t="has-"+t}r.removeClass(t)});if(m){return}n=j[n];if(!o.ui.bootstrap2){n="has-"+n}r.addClass(n)};k.percentage=function(n,q,p){var m=Math.floor(100*q/p),o=n.ui.progressBarMinPercentage;m=m<=o?o:m;m=m>100?100:m;return m};k.getVerdictAndCssClass=function(m,o){var p,n;if(o===undefined){return["",0]}if(o<=m.ui.scores[0]){p=0}else{if(o<m.ui.scores[1]){p=1}else{if(o<m.ui.scores[2]){p=2}else{if(o<m.ui.scores[3]){p=3}else{if(o<m.ui.scores[4]){p=4}else{p=5}}}}}n=i[p];return[m.i18n.t(n),p]};k.updateUI=function(n,p,s){var m,q,r,o;m=k.getVerdictAndCssClass(n,s);r=s===0?"":m[0];m=m[1];o=n.ui.useVerdictCssClass?m:-1;if(n.ui.showProgressBar){if(s===undefined){q=n.ui.progressBarEmptyPercentage}else{q=k.percentage(n,s,n.ui.scores[4])}k.updateProgressBar(n,p,m,q);if(n.ui.showVerdictsInsideProgressBar){k.updateVerdict(n,p,o,r)}}if(n.ui.showStatus){k.updateFieldStatus(n,p,m,s===undefined)}if(n.ui.showPopover){k.updatePopover(n,p,r,s===undefined)}else{if(n.ui.showVerdicts&&!n.ui.showVerdictsInsideProgressBar){k.updateVerdict(n,p,o,r)}if(n.ui.showErrors){k.updateErrors(n,p,s===undefined)}}if(n.ui.showScore){k.updateScore(n,p,s,s===undefined)}}}(f,d));var b={};(function(l,j){var k,m,i;k=function(r){var p=l(r.target),o=p.data("pwstrength-bootstrap"),s=p.val(),n,q,u,t;if(o===undefined){return}o.instances.errors=[];if(s.length===0){t=undefined}else{if(o.common.zxcvbn){n=[];l.each(o.common.userInputs.concat([o.common.usernameField]),function(w,v){var x=l(v).val();if(x){n.push(x)}});n=n.concat(o.common.zxcvbnTerms);t=Math.log2(zxcvbn(s,n).guesses)}else{t=g.executeRules(o,s)}}d.updateUI(o,p,t);q=d.getVerdictAndCssClass(o,t);u=q[1];q=q[0];if(o.common.debug){console.log(t+" - "+q)}if(l.isFunction(o.common.onKeyUp)){o.common.onKeyUp(r,{score:t,verdictText:q,verdictLevel:u})}};m=function(o){var n=l(o.target),p=n.val(),q=0,r;r=function(){var s=n.val();if(s!==p){k(o)}else{if(q<3){q+=1;setTimeout(r,100)}}};setTimeout(r,100)};j.init=function(n){this.each(function(o,q){var s=l.extend(true,{},a),r=l.extend(true,s,n),p=l(q);r.instances={};p.data("pwstrength-bootstrap",r);l.each(r.common.events,function(t,u){var v=u==="paste"?m:k;p.on(u,v)});d.initUI(r,p);p.trigger("keyup");if(l.isFunction(r.common.onLoad)){r.common.onLoad()}});return this};j.destroy=function(){this.each(function(n,q){var p=l(q),o=p.data("pwstrength-bootstrap"),r=d.getUIElements(o,p);r.$progressbar.remove();r.$verdict.remove();r.$errors.remove();p.removeData("pwstrength-bootstrap")})};j.forceUpdate=function(){this.each(function(n,o){var p={target:o};k(p)})};j.addRule=function(n,q,p,o){this.each(function(r,t){var s=l(t).data("pwstrength-bootstrap");s.rules.activated[n]=o;s.rules.scores[n]=p;s.rules.extra[n]=q})};i=function(o,p,n){this.each(function(q,r){l(r).data("pwstrength-bootstrap").rules[p][o]=n})};j.changeScore=function(n,o){i.call(this,n,"scores",o)};j.ruleActive=function(o,n){i.call(this,o,"activated",n)};l.fn.pwstrength=function(o){var n;if(j[o]){n=j[o].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof o==="object"||!o){n=j.init.apply(this,arguments)}else{l.error("Method "+o+" does not exist on jQuery.pwstrength-bootstrap")}}return n}}(f,b))}(jQuery));
